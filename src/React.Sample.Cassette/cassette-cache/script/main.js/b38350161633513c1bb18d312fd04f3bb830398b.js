var CommentsBox=React.createClass({displayName:"CommentsBox",propTypes:{initialComments:React.PropTypes.array.isRequired,commentsPerPage:React.PropTypes.number.isRequired},getInitialState:function(){return{comments:this.props.initialComments,page:1,hasMore:!0,loadingMore:!1}},loadMoreClicked:function(n){var r=this.state.page+1,i,t;this.setState({page:r,loadingMore:!0});i=n.target.href;t=new XMLHttpRequest;t.open("GET",i,!0);t.onload=function(){var n=JSON.parse(t.responseText);this.setState({comments:this.state.comments.concat(n.comments),hasMore:n.hasMore,loadingMore:!1})}.bind(this);t.send();n.preventDefault()},render:function(){var n=this.state.comments.map(function(n){return React.createElement(Comment,{author:n.Author},n.Text)});return React.createElement("div",{className:"comments"},React.createElement("h1",null,"Comments"),React.createElement("ol",{className:"commentList"},n),this.renderMoreLink())},renderMoreLink:function(){return this.state.loadingMore?React.createElement("em",null,"Loading..."):this.state.hasMore?React.createElement("a",{href:"comments/page-"+(this.state.page+1),onClick:this.loadMoreClicked},"Load More"):React.createElement("em",null,"No more comments")}}),Comment=React.createClass({displayName:"Comment",propTypes:{author:React.PropTypes.object.isRequired},render:function(){return React.createElement("li",null,React.createElement(Avatar,{author:this.props.author}),React.createElement("strong",null,this.props.author.Name),": ",this.props.children)}}),Avatar=React.createClass({displayName:"Avatar",propTypes:{author:React.PropTypes.object.isRequired},render:function(){return React.createElement("img",{src:this.getPhotoUrl(this.props.author),alt:"Photo of "+this.props.author.Name,width:50,height:50,className:"commentPhoto"})},getPhotoUrl:function(n){return"https://avatars.githubusercontent.com/"+n.GithubUsername+"?s=50"}})